<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TikTokLive Docs &mdash; TikTokLive  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="TikTokLive package" href="TikTokLive.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> TikTokLive
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="TikTokLive.html">TikTokLive package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">TikTokLive</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>TikTokLive Docs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tiktoklive-docs">
<h1>TikTokLive Docs<a class="headerlink" href="#tiktoklive-docs" title="Permalink to this headline">ÔÉÅ</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="TikTokLive.html">TikTokLive package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="TikTokLive.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="TikTokLive.client.html">TikTokLive.client package</a></li>
<li class="toctree-l3"><a class="reference internal" href="TikTokLive.proto.html">TikTokLive.proto package</a></li>
<li class="toctree-l3"><a class="reference internal" href="TikTokLive.types.html">TikTokLive.types package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="TikTokLive.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="TikTokLive.html#module-TikTokLive.utils">TikTokLive.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="TikTokLive.html#module-TikTokLive">Module contents</a></li>
</ul>
</li>
</ul>
</div>
<p>View the above tree for detailed documentation on the package.</p>
<section id="tiktoklive">
<h2>TikTokLive<a class="headerlink" href="#tiktoklive" title="Permalink to this headline">ÔÉÅ</a></h2>
<p>A python library to connect to and read events from TikTok‚Äôs LIVE service</p>
<p><a class="reference external" href="https://www.linkedin.com/in/isaac-kogan-5a45b9193/"><img alt="LinkedIn" src="https://img.shields.io/badge/LinkedIn-0077B5?style=for-the-badge&amp;logo=linkedin&amp;logoColor=white&amp;style=flat-square" /></a>
<a class="reference external" href="http://hits.dwyl.com/isaackogan/TikTokLive"><img alt="HitCount" src="https://hits.dwyl.com/isaackogan/TikTokLive.svg?style=flat" /></a>
<img alt="Issues" src="https://img.shields.io/github/issues/isaackogan/TikTok-Live-Connector" />
<img alt="Forks" src="https://img.shields.io/github/forks/isaackogan/TikTok-Live-Connector" />
<img alt="Stars" src="https://img.shields.io/github/stars/isaackogan/TikTok-Live-Connector" />
<a class="reference external" href="https://discord.gg/JwW8UwfUmC"><img alt="Support Server" src="https://img.shields.io/discord/831349828578574346.svg?color=7289da&amp;logo=discord&amp;style=flat-square" /></a></p>
<!-- [![Downloads](https://pepy.tech/badge/tiktoklive)](https://pepy.tech/project/tiktoklive) -->
<p>A python library to receive and decode livestream events such as comments and gifts in real-time from TikTok‚Äôs LIVE service by connecting to TikTok‚Äôs internal WebCast push service. This library includes a wrapper that
connects to the WebCast service using only a user‚Äôs <code class="docutils literal notranslate"><span class="pre">unique_id</span></code> and allows you to join your livestream as well as that of other streamers. No credentials are required to use TikTokLive.</p>
<p>This library a Python implementation of the Javascript
<a class="reference external" href="https://github.com/zerodytrash/TikTok-Livestream-Chat-Connector">TikTok-Live-Connector</a>
by <a class="reference external" href="https://github.com/zerodytrash/">&#64;zerodytrash</a> meant to serve as an alternative for users who feel more comfortable working in Python or require it for their specific dependancies.</p>
<p>This is <strong>not</strong> an official API. It‚Äôs a reverse engineering and research project.</p>
<p>Join the <a class="reference external" href="https://discord.gg/JwW8UwfUmC">support discord</a> and visit the <code class="docutils literal notranslate"><span class="pre">#support</span></code> channel for questions, contributions and ideas. Feel free to make pull requests with missing/new features, fixes, etc.</p>
<section id="thermal-printing-20-sales-counting">
<h3>üñ® Thermal Printing (20+ SALES &amp; COUNTING!) üñ® Ô∏è<a class="headerlink" href="#thermal-printing-20-sales-counting" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>A ready-to-go thermal printing program is for sale. To purchase it, join the <a class="reference external" href="https://discord.gg/JwW8UwfUmC">support discord</a> and create a ticket, or e-mail <code class="docutils literal notranslate"><span class="pre">info&#64;isaackogan.com</span></code>.</p>
<p>Setup troubleshooting will be provided (but ultimately), hosting and setup is up to you and specific to your infrastructure.</p>
<p>Payments are available through PayPal/BTC/ETH and <strong>are in USD.</strong> Delivery time can vary. Items that have been paid for will be delivered on average within 3-4 hours, at maximum within 24 hours.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Item</p></th>
<th class="head"><p>Price (USD)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Standard</p></td>
<td><p>$40</p></td>
<td><p>Print events to a Thermal Printer. For example, printing a comment with the user‚Äôs name, message, and profile picture. This is a HIGHLY advanced wrapper allowing you to print to a USB printer (must have ESCPOS) like it‚Äôs nothing. You can also use a Network or Serial printer, if they are ESCPOS, however these are not recommended as they tend to drop connections more frequently than USB.</p></td>
</tr>
<tr class="row-odd"><td><p>Setup Help</p></td>
<td><p>$15</p></td>
<td><p>Up to 1 hour of 1-on-1 setup time. I will conference with you in a voice call on Discord and remotely control your PC via AnyDesk. I will install the software on the spot, with you. Must have a working phone with Discord, so I can see the printer in case I need to.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="getting-started">
<h3>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>The hyperlinked URL is a <a class="reference external" href="https://img.youtube.com/vi/gubvklbZFTU/0.jpg">Video Tutorial</a> produced by <a class="reference external" href="https://www.youtube.com/channel/UCh8JuEPtb0oBeVv2nt6Y96A">&#64;Vyler</a> on YouTube that makes use of this library. You can
also continue reading for a more up-to-date, maintained guide.</p>
<ol class="arabic simple">
<li><p>Install the module via pip</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">TikTokLive</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Create your first chat connection</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">TikTokLive</span> <span class="kn">import</span> <span class="n">TikTokLiveClient</span>
<span class="kn">from</span> <span class="nn">TikTokLive.types.events</span> <span class="kn">import</span> <span class="n">CommentEvent</span><span class="p">,</span> <span class="n">ConnectEvent</span>

<span class="c1"># Instantiate the client with the user&#39;s username</span>
<span class="n">client</span><span class="p">:</span> <span class="n">TikTokLiveClient</span> <span class="o">=</span> <span class="n">TikTokLiveClient</span><span class="p">(</span><span class="n">unique_id</span><span class="o">=</span><span class="s2">&quot;@isaackogz&quot;</span><span class="p">)</span>


<span class="c1"># Define how you want to handle specific events via decorator</span>
<span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;connect&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">ConnectEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connected to Room ID:&quot;</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">room_id</span><span class="p">)</span>


<span class="c1"># Notice no decorator?</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_comment</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">CommentEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">nickname</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">comment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="c1"># Define handling an event via &quot;callback&quot;</span>
<span class="n">client</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="s2">&quot;comment&quot;</span><span class="p">,</span> <span class="n">on_comment</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># Run the client and block the main thread</span>
    <span class="c1"># await client.start() to run non-blocking</span>
    <span class="n">client</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>For more examples, <a class="reference external" href="https://github.com/isaackogan/TikTok-Live-Connector/tree/master/examples">see the examples folder</a> provided in the tree.</p>
</section>
<section id="params-options">
<h3>Params &amp; Options<a class="headerlink" href="#params-options" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>To create a new <code class="docutils literal notranslate"><span class="pre">TikTokLiveClient</span></code> object the following parameter is required. You can optionally add configuration options to this via kwargs.</p>
<p><code class="docutils literal notranslate"><span class="pre">TikTokLiveClient(unique_id,</span> <span class="pre">**options)</span></code></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Param Name</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>unique_id</p></td>
<td><p>Yes</p></td>
<td><p>The unique username of the broadcaster. You can find this name in the URL.<br>Example: <code class="docutils literal notranslate"><span class="pre">https://www.tiktok.com/&#64;officialgeilegisela/live</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">officialgeilegisela</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>debug</p></td>
<td><p>No</p></td>
<td><p>Whether to fire the ‚Äúdebug‚Äù event for receiving raw data</p></td>
</tr>
<tr class="row-even"><td><p>**options</p></td>
<td><p>No</p></td>
<td><p>Here you can set the following optional connection properties. If you do not specify a value, the default value will be used.<br><br><code class="docutils literal notranslate"><span class="pre">process_initial_data</span></code> (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>) <br> Define if you want to process the initial data which includes old messages of the last seconds.<br><br><code class="docutils literal notranslate"><span class="pre">fetch_room_info_on_connect</span></code> (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>) <br> Define if you want to fetch all room information on start. If this option is enabled, the connection to offline rooms will be prevented. If enabled, the connect result contains the room info via the <code class="docutils literal notranslate"><span class="pre">room_info</span></code> attribute. You can also manually retrieve the room info (even in an unconnected state) using the <code class="docutils literal notranslate"><span class="pre">retrieve_room_info()</span></code> method.<br><br><code class="docutils literal notranslate"><span class="pre">enable_extended_gift_info</span></code> (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>) <br> Define if you want to receive extended information about gifts like gift name, cost and images which you can retrieve via the <code class="docutils literal notranslate"><span class="pre">available_gifts</span></code> attribute. <br><br><code class="docutils literal notranslate"><span class="pre">polling_interval_ms</span></code> (default: <code class="docutils literal notranslate"><span class="pre">1000</span></code>) <br> Request polling interval.<br><br><code class="docutils literal notranslate"><span class="pre">client_params</span></code> (default: <code class="docutils literal notranslate"><span class="pre">{}</span></code>) <br> Custom client params for Webcast API.<br><br><code class="docutils literal notranslate"><span class="pre">headers</span></code> (default: <code class="docutils literal notranslate"><span class="pre">{}</span></code>) <br> Custom request headers passed to aiohttp.<br><br><code class="docutils literal notranslate"><span class="pre">timeout_ms</span></code> (default: <code class="docutils literal notranslate"><span class="pre">1000</span></code>)<br>How long to wait before a request should fail<br><br><code class="docutils literal notranslate"><span class="pre">loop</span></code> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)<br>Optionally supply your own asyncio event loop for usage by the client. When set to None, the client pulls the current active loop or creates a new one. This option is mostly useful for people trying to nest asyncio.</p></td>
</tr>
</tbody>
</table>
<p>Example Options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">TikTokLive</span> <span class="kn">import</span> <span class="n">TikTokLiveClient</span>

<span class="n">client</span><span class="p">:</span> <span class="n">TikTokLiveClient</span> <span class="o">=</span> <span class="n">TikTokLiveClient</span><span class="p">(</span>
    <span class="n">unique_id</span><span class="o">=</span><span class="s2">&quot;@oldskoldj&quot;</span><span class="p">,</span> <span class="o">**</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="c1"># Whether to process initial data (cached chats, etc.)</span>
            <span class="s2">&quot;process_initial_data&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>

            <span class="c1"># Connect info (viewers, stream status, etc.)</span>
            <span class="s2">&quot;fetch_room_info_on_connect&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>

            <span class="c1"># Whether to get extended gift info (Image URLs, etc.)</span>
            <span class="s2">&quot;enable_extended_gift_info&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>

            <span class="c1"># How frequently to poll Webcast API</span>
            <span class="s2">&quot;polling_interval_ms&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>

            <span class="c1"># Custom Client params</span>
            <span class="s2">&quot;client_params&quot;</span><span class="p">:</span> <span class="p">{},</span>

            <span class="c1"># Custom request headers</span>
            <span class="s2">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{},</span>

            <span class="c1"># Custom timeout for Webcast API requests</span>
            <span class="s2">&quot;timeout_ms&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>

            <span class="c1"># Custom Asyncio event loop</span>
            <span class="s2">&quot;loop&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>

            <span class="c1"># Whether to trust environment variables that provide proxies to be used in aiohttp requests</span>
            <span class="s2">&quot;trust_env&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>

            <span class="c1"># A ProxyContainer object for proxied requests</span>
            <span class="s2">&quot;proxy_container&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>

            <span class="c1"># Set the language for Webcast responses (Changes extended_gift&#39;s language)</span>
            <span class="s2">&quot;lang&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US&quot;</span>

        <span class="p">}</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">client</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">TikTokLiveClient</span></code> object contains the following methods.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Method Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>run</p></td>
<td><p>Starts a connection to the live chat while blocking the main thread (sync)</p></td>
</tr>
<tr class="row-odd"><td><p>start</p></td>
<td><p>Connects to the live chat without blocking the main thread (async)</p></td>
</tr>
<tr class="row-even"><td><p>stop</p></td>
<td><p>Turns off the connection to the live chat.</p></td>
</tr>
<tr class="row-odd"><td><p>retrieve_room_info</p></td>
<td><p>Gets the current room info from TikTok API</p></td>
</tr>
<tr class="row-even"><td><p>retrieve_available_gifts</p></td>
<td><p>Retrieves a list of the available gifts for the room and adds it to the <code class="docutils literal notranslate"><span class="pre">extended_gift</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">Gift</span></code> object on the <code class="docutils literal notranslate"><span class="pre">gift</span></code> event, when enabled.</p></td>
</tr>
<tr class="row-odd"><td><p>add_listener</p></td>
<td><p>Adds an <em>asynchronous</em> listener function (or, you can decorate a function with <code class="docutils literal notranslate"><span class="pre">&#64;client.on()</span></code>) and takes two parameters, an event name and the payload, an AbstractEvent</p></td>
</tr>
<tr class="row-even"><td><p>add_proxies</p></td>
<td><p>Add proxies to the current list of proxies with a valid aiohttp proxy-url</p></td>
</tr>
<tr class="row-odd"><td><p>get_proxies</p></td>
<td><p>Get the current list of proxies by proxy-url</p></td>
</tr>
<tr class="row-even"><td><p>remove_proxies</p></td>
<td><p>Remove proxies from the current list of proxies by proxy-url</p></td>
</tr>
<tr class="row-odd"><td><p>set_proxies_enabled</p></td>
<td><p>Set whether or not proxies are enabled (disabled by default)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="events">
<h3>Events<a class="headerlink" href="#events" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">TikTokLiveClient</span></code> object has the following events. You can add events either by doing <code class="docutils literal notranslate"><span class="pre">client.add_listener(&quot;event_name&quot;,</span> <span class="pre">callable)</span></code> or by decorating a function with <code class="docutils literal notranslate"><span class="pre">&#64;client.on(&quot;event_name&quot;)</span></code> that includes an event
payload parameter.</p>
<section id="connect">
<h4><code class="docutils literal notranslate"><span class="pre">connect</span></code><a class="headerlink" href="#connect" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered when the connection gets successfully established.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;connect&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">ConnectEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connected&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="disconnect">
<h4><code class="docutils literal notranslate"><span class="pre">disconnect</span></code><a class="headerlink" href="#disconnect" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered when the connection gets disconnected. You can call <code class="docutils literal notranslate"><span class="pre">start()</span></code>  to have reconnect . Note that you should wait a little bit before attempting a reconnect to to avoid being rate-limited.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;disconnect&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_disconnect</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">DisconnectEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Disconnected&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="like">
<h4><code class="docutils literal notranslate"><span class="pre">like</span></code><a class="headerlink" href="#like" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered every time someone likes the stream.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;like&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_like</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">LikeEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Someone liked the stream!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="join">
<h4><code class="docutils literal notranslate"><span class="pre">join</span></code><a class="headerlink" href="#join" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered every time a new person joins the stream.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;join&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_join</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">JoinEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Someone joined the stream!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="gift">
<h4><code class="docutils literal notranslate"><span class="pre">gift</span></code><a class="headerlink" href="#gift" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered every time a gift arrives. Extra information can be gleamed off the <code class="docutils literal notranslate"><span class="pre">available_gifts</span></code> client attribute.</p>
<blockquote>
<div><p><strong>NOTE:</strong> Users have the capability to send gifts in a streak. This increases the <code class="docutils literal notranslate"><span class="pre">data.gift.repeat_count</span></code> value until the user terminates the streak. During this time new gift events are triggered again and again with an increased <code class="docutils literal notranslate"><span class="pre">data.gift.repeat_count</span></code> value. It should be noted that after the end of the streak, another gift event is triggered, which signals the end of the streak via <code class="docutils literal notranslate"><span class="pre">data.gift.repeat_end</span></code>:<code class="docutils literal notranslate"><span class="pre">1</span></code>. This applies only to gifts with <code class="docutils literal notranslate"><span class="pre">data.gift.gift_type</span></code>:<code class="docutils literal notranslate"><span class="pre">1</span></code>. This means that even if the user sends a <code class="docutils literal notranslate"><span class="pre">gift_type</span></code>:<code class="docutils literal notranslate"><span class="pre">1</span></code> gift only once, you will receive the event twice. Once with <code class="docutils literal notranslate"><span class="pre">repeat_end</span></code>:<code class="docutils literal notranslate"><span class="pre">0</span></code> and once with <code class="docutils literal notranslate"><span class="pre">repeat_end</span></code>:<code class="docutils literal notranslate"><span class="pre">1</span></code>. Therefore, the event should be handled as follows in one of TWO ways:</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;gift&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_gift</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">GiftEvent</span><span class="p">):</span>
    <span class="c1"># If it&#39;s type 1 and the streak is over</span>
    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">gift_type</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">repeat_end</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">uniqueId</span><span class="si">}</span><span class="s2"> sent </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">repeat_count</span><span class="si">}</span><span class="s2">x </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">extended_gift</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># It&#39;s not type 1, which means it can&#39;t have a streak &amp; is automatically over</span>
    <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">gift_type</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">uniqueId</span><span class="si">}</span><span class="s2"> sent </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">extended_gift</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;gift&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_gift</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">GiftEvent</span><span class="p">):</span>
    <span class="c1"># If it&#39;s type 1 and the streak is over</span>
    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">streakable</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">streaking</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">uniqueId</span><span class="si">}</span><span class="s2"> sent </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">repeat_count</span><span class="si">}</span><span class="s2">x </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">extended_gift</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># It&#39;s not type 1, which means it can&#39;t have a streak &amp; is automatically over</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">uniqueId</span><span class="si">}</span><span class="s2"> sent </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">gift</span><span class="o">.</span><span class="n">extended_gift</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="follow">
<h4><code class="docutils literal notranslate"><span class="pre">follow</span></code><a class="headerlink" href="#follow" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered every time someone follows the streamer.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;follow&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_follow</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">FollowEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Someone followed the streamer!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="share">
<h4><code class="docutils literal notranslate"><span class="pre">share</span></code><a class="headerlink" href="#share" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered every time someone shares the stream.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;share&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_share</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">ShareEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Someone shared the streamer!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="viewer-count-update">
<h4><code class="docutils literal notranslate"><span class="pre">viewer_count_update</span></code><a class="headerlink" href="#viewer-count-update" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered every time the viewer count is updated. This event also updates the cached viewer count by default.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;viewer_count_update&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">ViewerCountUpdateEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Received a new viewer count:&quot;</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">viewCount</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="comment">
<h4><code class="docutils literal notranslate"><span class="pre">comment</span></code><a class="headerlink" href="#comment" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered every time someone comments on the live</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comment&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">CommentEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">nickname</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">comment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="live-end">
<h4><code class="docutils literal notranslate"><span class="pre">live_end</span></code><a class="headerlink" href="#live-end" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered when the live stream gets terminated by the host.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;live_end&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">LiveEndEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Livestream ended :(&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="unknown">
<h4><code class="docutils literal notranslate"><span class="pre">unknown</span></code><a class="headerlink" href="#unknown" title="Permalink to this headline">ÔÉÅ</a></h4>
<p>Triggered when an unknown event is received that is not yet handled by this client</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;live_end&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">UnknownEvent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">as_dict</span><span class="p">,</span> <span class="s2">&quot;&lt;- This is my data as a dict!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="contributors">
<h3>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">ÔÉÅ</a></h3>
<ul class="simple">
<li><p><strong>Isaac Kogan</strong> - <em>Initial work</em> - <a class="reference external" href="https://github.com/isaackogan">isaackogan</a></p></li>
<li><p><strong>Zerody</strong> - <em>Reverse-Engineering &amp; README.md file</em> - <a class="reference external" href="https://github.com/zerodytrash/">Zerody</a></p></li>
</ul>
<p>See the full list of <a class="reference external" href="https://github.com/ChromegleApp/Chromegle/contributors">contributors</a> who participated in this project.</p>
</section>
<section id="license">
<h3>License<a class="headerlink" href="#license" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>This project is licensed under the MIT License - see the <span class="xref myst">LICENSE</span> file for details.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="TikTokLive.html" class="btn btn-neutral float-right" title="TikTokLive package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Isaac Kogan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>